<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel do Piloto - DH PE</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#003399">
    <script>if('serviceWorker' in navigator){navigator.serviceWorker.register('sw.js?v=11');}</script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        body { background: #f0f2f5; color: #333; }
        
        .header { background: #001233; color: white; padding: 25px 20px; border-bottom: 5px solid #ffcc00; text-align: center; }
        .header img { width: 80px; margin-bottom: 10px; }
        
        .container { padding: 20px; max-width: 500px; margin: auto; }
        
        .card-piloto { background: white; padding: 20px; border-radius: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); margin-top: -40px; text-align: center; }
        .card-piloto h2 { color: #003399; text-transform: uppercase; margin-bottom: 5px; }
        .info-row { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #eee; font-size: 14px; }

        .menu-links { margin-top: 25px; display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .btn-menu { background: white; padding: 20px; border-radius: 15px; text-decoration: none; color: #003399; font-weight: bold; text-align: center; box-shadow: 0 2px 8px rgba(0,0,0,0.05); transition: 0.3s; border: 1px solid #eee; }
        .btn-menu i { display: block; font-size: 24px; margin-bottom: 10px; color: #ffcc00; }
        .btn-menu:hover { transform: translateY(-3px); border-color: #ffcc00; }

        .btn-admin { grid-column: span 2; background: #e63946; color: white; margin-top: 10px; }
        .btn-admin i { color: white; }

        .btn-sair { grid-column: span 2; background: #666; color: white; margin-top: 20px; }
    </style>
</head>
<body>

    <div class="header">
        <img src="logo.png" alt="Logo">
        <p style="font-size: 12px; opacity: 0.8;">BEM-VINDO AO PORTAL DO ATLETA</p>
    </div>

    <div class="container">
        <div class="card-piloto">
            <h2 id="nome-exibir">Carregando...</h2>
            <div class="info-row"><span>Categoria:</span> <strong id="cat-exibir">-</strong></div>
            <div class="info-row"><span>CPF:</span> <strong id="cpf-exibir">-</strong></div>
            <div class="info-row"><span>Status:</span> <strong style="color: green;">INSCRITO</strong></div>
        </div>

        <div class="menu-links">
            <a href="perfil.html" class="btn-menu">
                <i class="fas fa-user-cog"></i> Mudar Senha
            </a>

            <a href="#" class="btn-menu" onclick="alert('Cronograma disponível em breve!')">
                <i class="fas fa-calendar-alt"></i> Horários
            </a>

            <a href="#" class="btn-menu btn-admin" onclick="acessoAdmin()">
                <i class="fas fa-user-shield"></i> Área Organizador
            </a>

            <a href="index.html" class="btn-menu btn-sair" onclick="localStorage.removeItem('logado')">
                <i class="fas fa-sign-out-alt"></i> Sair do App
            </a>
        </div>
    </div>

    <script>
        // Carrega os dados salvos no celular
        window.onload = function() {
            const dados = JSON.parse(localStorage.getItem('usuarioPiloto'));
            if(dados) {
                document.getElementById('nome-exibir').innerText = dados.nome;
                document.getElementById('cat-exibir').innerText = dados.categoria;
                document.getElementById('cpf-exibir').innerText = dados.cpf;
            } else {
                alert("Sessão expirada. Faça login novamente.");
                window.location.href = "index.html";
            }
        };

        // Função de acesso à área ADM
        function acessoAdmin() {
            const pass = prompt("Digite a Senha do Organizador:");
            if(pass === "admin123") { // Você pode mudar essa senha aqui
                window.location.href = "admin.html";
            } else {
                alert("Senha administrativa incorreta!");
            }
        }
    </script>
</body>
</html>
